import{c as o,m as a,b as e,P as K,a as E,u as G,_ as W,r as b,B as N,o as X,x as p,e as l,d as f,n as k,t as x,F as V,l as R,q as S,Q as B,v as O,y as A,z as P,D as q}from"./index-CHW42hPp.js";import{r as Y}from"./UserPlusIcon-0oKa6dU_.js";import{r as H}from"./ExclamationCircleIcon-epZQI6Nd.js";function T(d,s){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function F(d,s){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}const ee=K("organizationUsers",{state:()=>({users:[],currentUser:null,loading:!1,error:null,formError:null}),getters:{admins:d=>d.users.filter(s=>{var n;return((n=s.pivot)==null?void 0:n.role)==="admin"}),agents:d=>d.users.filter(s=>{var n;return((n=s.pivot)==null?void 0:n.role)==="agent"}),canManageUsers:()=>{const d=G();return d.isAdmin||d.isSuperAdmin}},actions:{async fetchUsers(){var d,s;this.loading=!0,this.error=null;try{const n=await E.getOrganizationUsers();if(n.data.status==="success")return this.users=n.data.users||[],this.users;throw new Error(n.data.message||"Impossible de récupérer les utilisateurs")}catch(n){return console.error("Erreur dans fetchUsers:",n),this.error=((s=(d=n.response)==null?void 0:d.data)==null?void 0:s.message)||n.message||"Erreur lors de la récupération des utilisateurs",[]}finally{this.loading=!1}},async fetchUser(d){var s,n;this.loading=!0,this.error=null;try{const i=await E.getOrganizationUser(d);if(i.data.status==="success")return this.currentUser=i.data.user,this.currentUser;throw new Error(i.data.message||"Impossible de récupérer l'utilisateur")}catch(i){return console.error("Erreur dans fetchUser:",i),this.error=((n=(s=i.response)==null?void 0:s.data)==null?void 0:n.message)||i.message||"Erreur lors de la récupération de l'utilisateur",null}finally{this.loading=!1}},async addUser(d){var s,n,i,m;this.loading=!0,this.formError=null;try{const c=await E.addOrganizationUser(d);if(c.data.status==="success")return await this.fetchUsers(),c.data.user;throw new Error(c.data.message||"Impossible d'ajouter l'utilisateur")}catch(c){return console.error("Erreur dans addUser:",c),this.formError=((n=(s=c.response)==null?void 0:s.data)==null?void 0:n.message)||c.message||"Erreur lors de l'ajout de l'utilisateur",(m=(i=c.response)==null?void 0:i.data)!=null&&m.errors&&(this.formError=Object.values(c.response.data.errors).flat().join(", ")),null}finally{this.loading=!1}},async updateUserRole(d,s){var n,i;this.loading=!0,this.error=null;try{const m=await E.updateOrganizationUserRole(d,s);if(m.data.status==="success"){const c=this.users.findIndex(v=>v.id==d);return c!==-1&&(this.users[c].pivot.role=s.role),this.currentUser&&this.currentUser.id==d&&(this.currentUser.pivot.role=s.role),!0}else throw new Error(m.data.message||"Impossible de mettre à jour le rôle")}catch(m){return console.error("Erreur dans updateUserRole:",m),this.error=((i=(n=m.response)==null?void 0:n.data)==null?void 0:i.message)||m.message||"Erreur lors de la mise à jour du rôle",!1}finally{this.loading=!1}},async removeUser(d){var s,n;this.loading=!0,this.error=null;try{const i=await E.removeOrganizationUser(d);if(i.data.status==="success")return this.users=this.users.filter(m=>m.id!=d),this.currentUser&&this.currentUser.id==d&&(this.currentUser=null),!0;throw new Error(i.data.message||"Impossible de retirer l'utilisateur")}catch(i){return console.error("Erreur dans removeUser:",i),this.error=((n=(s=i.response)==null?void 0:s.data)==null?void 0:n.message)||i.message||"Erreur lors du retrait de l'utilisateur",!1}finally{this.loading=!1}},clearError(){this.error=null,this.formError=null}}}),te={class:"container mx-auto py-8 px-4 sm:px-6"},se={class:"mb-6 flex flex-col md:flex-row justify-between items-start md:items-center"},re={key:0,class:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-md"},oe={class:"flex"},ae={class:"text-sm text-red-700"},le={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200 mb-8"},ne={key:0,class:"p-4 text-center text-gray-500"},ie={key:1,class:"p-4 text-center text-gray-500"},de={key:2,class:"overflow-x-auto"},ue={class:"min-w-full divide-y divide-gray-200"},ce={class:"bg-gray-50"},me={key:0,class:"py-3 px-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},pe={class:"bg-white divide-y divide-gray-200"},xe={class:"py-4 px-4 whitespace-nowrap"},ge={class:"flex items-center"},ve={class:"h-8 w-8 rounded-full bg-primary text-white flex items-center justify-center text-sm font-medium"},ye={class:"ml-3"},fe={class:"text-xs font-medium text-gray-600"},he={class:"py-4 px-4 whitespace-nowrap text-sm text-gray-500"},be={key:0,class:"py-4 px-4 whitespace-nowrap text-right text-sm"},we={class:"flex justify-end space-x-2"},ke=["onClick"],_e=["onClick"],Ce={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},Ue={key:0,class:"p-4 text-center text-gray-500"},Ee={key:1,class:"p-4 text-center text-gray-500"},Ae={key:2,class:"overflow-x-auto"},ze={class:"min-w-full divide-y divide-gray-200"},je={class:"bg-gray-50"},Me={key:0,class:"py-3 px-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},$e={class:"bg-white divide-y divide-gray-200"},Ve={class:"py-4 px-4 whitespace-nowrap"},Re={class:"flex items-center"},Se={class:"h-8 w-8 rounded-full bg-secondary text-white flex items-center justify-center text-sm font-medium"},Be={class:"ml-3"},Pe={class:"text-xs font-medium text-gray-600"},Le={class:"py-4 px-4 whitespace-nowrap text-sm text-gray-500"},Ie={key:0,class:"py-4 px-4 whitespace-nowrap text-right text-sm"},Ne={class:"flex justify-end space-x-2"},Oe=["onClick"],qe=["onClick"],He={class:"mt-4 flex justify-between items-center"},Te={class:"text-xs text-gray-700"},Fe={class:"flex space-x-1"},Ge=["disabled"],De=["onClick"],Qe={key:1,class:"px-2 py-1 text-xs"},Ze=["disabled"],Je={key:1,class:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center"},Ke={class:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4 my-8"},We={class:"flex justify-between items-center py-3 px-4 border-b border-gray-200"},Xe={key:0,class:"bg-red-50 border-l-4 border-red-500 p-4 mb-4 rounded-md"},Ye={class:"flex"},et={class:"text-sm text-red-700"},tt={class:"space-y-4"},st={class:"mt-6 flex justify-end space-x-3"},rt=["disabled"],ot={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},at={key:2,class:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center"},lt={class:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4 my-8"},nt={class:"flex justify-between items-center py-3 px-4 border-b border-gray-200"},it={class:"font-medium text-gray-900"},dt={class:"space-y-4"},ut={class:"mt-6 flex justify-end space-x-3"},ct=["disabled"],mt={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},pt={key:3,class:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center"},xt={class:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4 my-8"},gt={class:"flex justify-between items-center py-3 px-4 border-b border-gray-200"},vt={class:"p-4"},yt={class:"text-gray-600"},ft={class:"font-semibold"},ht={class:"mt-6 flex justify-end space-x-3"},bt=["disabled"],wt={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},kt={__name:"UserListView",setup(d){const s=ee(),n=G(),i=b(!1),m=b(!1),c=b(!1),v=b({name:"",email:"",password:"",role:""}),y=b(null),z=b(""),g=b(1),_=b(10),C=b(0),w=N(()=>Math.ceil(C.value/_.value)),D=N(()=>{const u=[];if(w.value<=5)for(let h=1;h<=w.value;h++)u.push(h);else{u.push(1);let h=Math.max(2,g.value-1),U=Math.min(w.value-1,g.value+1);h>2&&u.push("...");for(let r=h;r<=U;r++)u.push(r);U<w.value-1&&u.push("..."),u.push(w.value)}return u}),j=u=>n.user&&n.user.id==u,Q=async()=>{s.clearError(),await s.addUser(v.value)&&(v.value={name:"",email:"",password:"",role:""},i.value=!1)},L=u=>{y.value=u,z.value=u.pivot.role,m.value=!0},Z=async()=>{if(!y.value)return;s.clearError(),await s.updateUserRole(y.value.id,{role:z.value})&&(m.value=!1,y.value=null)},I=u=>{y.value=u,c.value=!0},J=async()=>{if(!y.value)return;s.clearError(),await s.removeUser(y.value.id)&&(c.value=!1,y.value=null)};function $(u){u<1||u>w.value||(g.value=u,s.fetchUsers({page:g.value,per_page:_.value}))}return X(async()=>{C.value=0,await s.fetchUsers({page:g.value,per_page:_.value}),C.value=s.admins.length+s.agents.length}),(u,t)=>{var h,U;return a(),o("div",te,[e("div",se,[t[18]||(t[18]=e("div",null,[e("h1",{class:"text-sm tracking-widest font-medium text-gray-600"},"Mes gestionnaires"),e("p",{class:"text-gray-600 text-xs mt-1"},"Gérez les membres de votre entreprise")],-1)),l(s).canManageUsers?(a(),o("button",{key:0,onClick:t[0]||(t[0]=r=>i.value=!0),class:"mt-4 md:mt-0 btn btn-primary"},[f(l(Y),{class:"h-5 w-5 mr-2"}),t[17]||(t[17]=k(" Nouvel utilisateur "))])):p("",!0)]),l(s).error?(a(),o("div",re,[e("div",oe,[f(l(H),{class:"h-5 w-5 text-red-500 mr-2"}),e("p",ae,x(l(s).error),1)])])):p("",!0),e("div",le,[t[25]||(t[25]=e("div",{class:"bg-primary-light bg-opacity-10 py-3 px-4 border-b border-gray-200"},[e("h2",{class:"font-medium text-xs text-primary"},"Administrateurs")],-1)),l(s).loading?(a(),o("div",ne,t[19]||(t[19]=[e("svg",{class:"animate-spin h-5 w-5 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",null,"Chargement des utilisateurs...",-1)]))):l(s).admins.length===0?(a(),o("div",ie,t[20]||(t[20]=[e("p",null,"Aucun administrateur trouvé.",-1)]))):(a(),o("div",de,[e("table",ue,[e("thead",ce,[e("tr",null,[t[21]||(t[21]=e("th",{class:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nom",-1)),t[22]||(t[22]=e("th",{class:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Email",-1)),t[23]||(t[23]=e("th",{class:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Rôle",-1)),l(s).canManageUsers?(a(),o("th",me,"Actions")):p("",!0)])]),e("tbody",pe,[(a(!0),o(V,null,R(l(s).admins,r=>(a(),o("tr",{key:r.id,class:"hover:bg-gray-50"},[e("td",xe,[e("div",ge,[e("div",ve,x(r.name.charAt(0).toUpperCase()),1),e("div",ye,[e("div",fe,x(r.name),1)])])]),e("td",he,x(r.email),1),t[24]||(t[24]=e("td",{class:"py-4 px-4 whitespace-nowrap"},[e("span",{class:"bg-primary bg-opacity-10 text-primary px-2 py-1 rounded-full text-xs"}," Administrateur ")],-1)),l(s).canManageUsers?(a(),o("td",be,[e("div",we,[j(r.id)?p("",!0):(a(),o("button",{key:0,onClick:M=>L(r),class:"text-blue-600 hover:text-blue-800",title:"Changer le rôle"},[f(l(T),{class:"h-4 w-4"})],8,ke)),j(r.id)?p("",!0):(a(),o("button",{key:1,onClick:M=>I(r),class:"text-red-600 hover:text-red-800",title:"Retirer de l'organisation"},[f(l(F),{class:"h-4 w-4"})],8,_e))])])):p("",!0)]))),128))])])]))]),e("div",Ce,[t[32]||(t[32]=e("div",{class:"bg-secondary-light bg-opacity-10 py-3 px-4 border-b border-gray-200"},[e("h2",{class:"font-medium text-xs text-secondary"},"Gestionnaire")],-1)),l(s).loading?(a(),o("div",Ue,t[26]||(t[26]=[e("svg",{class:"animate-spin h-5 w-5 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",null,"Chargement des utilisateurs...",-1)]))):l(s).agents.length===0?(a(),o("div",Ee,t[27]||(t[27]=[e("p",null,"Aucun agent trouvé.",-1)]))):(a(),o("div",Ae,[e("table",ze,[e("thead",je,[e("tr",null,[t[28]||(t[28]=e("th",{class:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nom",-1)),t[29]||(t[29]=e("th",{class:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Email",-1)),t[30]||(t[30]=e("th",{class:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Rôle",-1)),l(s).canManageUsers?(a(),o("th",Me,"Actions")):p("",!0)])]),e("tbody",$e,[(a(!0),o(V,null,R(l(s).agents,r=>(a(),o("tr",{key:r.id,class:"hover:bg-gray-50"},[e("td",Ve,[e("div",Re,[e("div",Se,x(r.name.charAt(0).toUpperCase()),1),e("div",Be,[e("div",Pe,x(r.name),1)])])]),e("td",Le,x(r.email),1),t[31]||(t[31]=e("td",{class:"py-4 px-4 whitespace-nowrap"},[e("span",{class:"bg-secondary bg-opacity-10 text-secondary px-2 py-1 rounded-full text-xs"}," Agent ")],-1)),l(s).canManageUsers?(a(),o("td",Ie,[e("div",Ne,[j(r.id)?p("",!0):(a(),o("button",{key:0,onClick:M=>L(r),class:"text-blue-600 hover:text-blue-800",title:"Changer le rôle"},[f(l(T),{class:"h-4 w-4"})],8,Oe)),j(r.id)?p("",!0):(a(),o("button",{key:1,onClick:M=>I(r),class:"text-red-600 hover:text-red-800",title:"Retirer de l'organisation"},[f(l(F),{class:"h-4 w-4"})],8,qe))])])):p("",!0)]))),128))])])]))]),e("div",He,[e("div",Te," Affichage de "+x((g.value-1)*_.value+1)+" à "+x(Math.min(g.value*_.value,C.value))+" sur "+x(C.value)+" résultats ",1),e("div",Fe,[e("button",{onClick:t[1]||(t[1]=r=>$(g.value-1)),disabled:g.value===1,class:S([g.value===1?"opacity-50 cursor-not-allowed":"","px-3 py-1 text-xs border border-gray-300 rounded-md hover:bg-gray-100"])}," Précédent ",10,Ge),(a(!0),o(V,null,R(D.value,r=>(a(),o("div",{key:r},[r!=="..."?(a(),o("button",{key:0,onClick:M=>$(r),class:S([g.value===r?"bg-primary text-white":"bg-white text-gray-700 hover:bg-gray-100","px-3 py-1 text-xs border border-gray-300 rounded-md"])},x(r),11,De)):(a(),o("span",Qe,x(r),1))]))),128)),e("button",{onClick:t[2]||(t[2]=r=>$(g.value+1)),disabled:g.value===w.value,class:S([g.value===w.value?"opacity-50 cursor-not-allowed":"","px-3 py-1 text-xs border border-gray-300 rounded-md hover:bg-gray-100"])}," Suivant ",10,Ze)])]),i.value?(a(),o("div",Je,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[3]||(t[3]=r=>i.value=!1)}),e("div",Ke,[e("div",We,[t[33]||(t[33]=e("h3",{class:"font-medium text-xs text-gray-600"},"Ajouter un gestionnaire",-1)),e("button",{onClick:t[4]||(t[4]=r=>i.value=!1),class:"text-gray-400 hover:text-gray-500"},[f(l(B),{class:"h-5 w-5"})])]),e("form",{onSubmit:O(Q,["prevent"]),class:"p-4"},[l(s).formError?(a(),o("div",Xe,[e("div",Ye,[f(l(H),{class:"h-5 w-5 text-red-500 mr-2"}),e("p",et,x(l(s).formError),1)])])):p("",!0),e("div",tt,[e("div",null,[t[34]||(t[34]=e("label",{for:"name",class:"text-xs text-primary-gray"},"Nom complet",-1)),A(e("input",{type:"text",id:"name","onUpdate:modelValue":t[5]||(t[5]=r=>v.value.name=r),required:"",class:"block w-full text-xs focus:ring-primary focus:border-primary focus:outline-none rounded-md h-[34px] px-3 border border-gray-300",placeholder:"Entrez le nom"},null,512),[[P,v.value.name]])]),e("div",null,[t[35]||(t[35]=e("label",{for:"email",class:"text-xs text-primary-gray"},"Email",-1)),A(e("input",{type:"email",id:"email","onUpdate:modelValue":t[6]||(t[6]=r=>v.value.email=r),required:"",class:"block w-full text-xs focus:ring-primary focus:border-primary focus:outline-none rounded-md h-[34px] px-3 border border-gray-300",placeholder:"Entrez l'email"},null,512),[[P,v.value.email]])]),e("div",null,[t[36]||(t[36]=e("label",{for:"password",class:"text-xs text-primary-gray"},"Mot de passe",-1)),A(e("input",{type:"password",id:"password","onUpdate:modelValue":t[7]||(t[7]=r=>v.value.password=r),required:"",class:"block w-full text-xs focus:ring-primary focus:border-primary focus:outline-none rounded-md h-[34px] px-3 border border-gray-300"},null,512),[[P,v.value.password]])]),e("div",null,[t[38]||(t[38]=e("label",{for:"role",class:"text-xs text-primary-gray"},"Rôle",-1)),A(e("select",{id:"role","onUpdate:modelValue":t[8]||(t[8]=r=>v.value.role=r),required:"",class:"block w-full text-xs focus:ring-primary focus:border-primary focus:outline-none rounded-md h-[34px] px-3 border border-gray-300"},t[37]||(t[37]=[e("option",{value:""},"Sélectionnez un rôle",-1),e("option",{value:"admin"},"Administrateur",-1),e("option",{value:"agent"},"Agent",-1)]),512),[[q,v.value.role]])])]),e("div",st,[e("button",{type:"button",onClick:t[9]||(t[9]=r=>i.value=!1),class:"btn btn-secondary"}," Annuler "),e("button",{type:"submit",class:"btn btn-primary",disabled:l(s).loading},[l(s).loading?(a(),o("svg",ot,t[39]||(t[39]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):p("",!0),t[40]||(t[40]=k(" Ajouter "))],8,rt)])],32)])])):p("",!0),m.value?(a(),o("div",at,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[10]||(t[10]=r=>m.value=!1)}),e("div",lt,[e("div",nt,[e("h3",it,"Changer le rôle de "+x((h=y.value)==null?void 0:h.name),1),e("button",{onClick:t[11]||(t[11]=r=>m.value=!1),class:"text-gray-400 hover:text-gray-500"},[f(l(B),{class:"h-5 w-5"})])]),e("form",{onSubmit:O(Z,["prevent"]),class:"p-4"},[e("div",dt,[e("div",null,[t[42]||(t[42]=e("label",{for:"change_role",class:"text-xs text-primary-gray"},"Rôle",-1)),A(e("select",{id:"change_role","onUpdate:modelValue":t[12]||(t[12]=r=>z.value=r),required:"",class:"input"},t[41]||(t[41]=[e("option",{value:"admin"},"Administrateur",-1),e("option",{value:"agent"},"Agent",-1)]),512),[[q,z.value]])])]),e("div",ut,[e("button",{type:"button",onClick:t[13]||(t[13]=r=>m.value=!1),class:"btn btn-secondary"}," Annuler "),e("button",{type:"submit",class:"btn btn-primary",disabled:l(s).loading},[l(s).loading?(a(),o("svg",mt,t[43]||(t[43]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):p("",!0),t[44]||(t[44]=k(" Changer le rôle "))],8,ct)])],32)])])):p("",!0),c.value?(a(),o("div",pt,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[14]||(t[14]=r=>c.value=!1)}),e("div",xt,[e("div",gt,[t[45]||(t[45]=e("h3",{class:"font-medium text-gray-900"},"Confirmation",-1)),e("button",{onClick:t[15]||(t[15]=r=>c.value=!1),class:"text-gray-400 hover:text-gray-500"},[f(l(B),{class:"h-5 w-5"})])]),e("div",vt,[e("p",yt,[t[46]||(t[46]=k(" Êtes-vous sûr de vouloir retirer ")),e("span",ft,x((U=y.value)==null?void 0:U.name),1),t[47]||(t[47]=k(" de l'organisation ? "))]),e("div",ht,[e("button",{type:"button",onClick:t[16]||(t[16]=r=>c.value=!1),class:"btn btn-secondary"}," Annuler "),e("button",{type:"button",onClick:J,class:"btn btn-danger",disabled:l(s).loading},[l(s).loading?(a(),o("svg",wt,t[48]||(t[48]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):p("",!0),t[49]||(t[49]=k(" Confirmer "))],8,bt)])])])])):p("",!0)])}}},Et=W(kt,[["__scopeId","data-v-ea325350"]]);export{Et as default};
