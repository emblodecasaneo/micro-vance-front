import{u as x,r as n,c as w,b as s,v as g,y as d,z as c,x as k,n as _,q as f,I as v,m as y}from"./index-CHW42hPp.js";import{u as C}from"./toast-DZktrDzS.js";const N={class:"bg-white shadow rounded-lg p-6"},V={class:"space-y-8"},M={class:"bg-gray-50 p-4 rounded-md"},h={class:"pt-2"},S=["disabled"],T={class:"flex items-center"},U={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},z={class:"bg-gray-50 p-4 rounded-md"},B={class:"space-y-4"},P={class:"flex space-x-4"},$={class:"space-y-2"},j={class:"flex items-center"},q={class:"flex items-center"},L={__name:"SettingsView",setup(A){x();const l=C(),i=n(!1),o=n(null),t=n({current_password:"",new_password:"",new_password_confirmation:""}),u=n({emailNotifications:!0,browserNotifications:!1}),m=n("light"),b=async()=>{if(i.value=!0,o.value=null,!t.value.current_password||!t.value.new_password||!t.value.new_password_confirmation){o.value="Veuillez remplir tous les champs",l.error(o.value),i.value=!1;return}if(t.value.new_password!==t.value.new_password_confirmation){o.value="Les nouveaux mots de passe ne correspondent pas",l.error(o.value),i.value=!1;return}try{await new Promise(a=>setTimeout(a,1e3)),t.value={current_password:"",new_password:"",new_password_confirmation:""},l.success("Mot de passe mis à jour avec succès !")}catch(a){o.value=a.message||"Une erreur est survenue",l.error(o.value)}finally{i.value=!1}},p=a=>{m.value=a,l.success(`Thème ${a} appliqué !`)};return(a,e)=>(y(),w("div",N,[e[20]||(e[20]=s("h1",{class:"text-2xl font-bold text-gray-900 mb-6"},"Paramètres",-1)),s("div",V,[s("div",null,[e[14]||(e[14]=s("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Modifier le mot de passe",-1)),s("div",M,[s("form",{onSubmit:g(b,["prevent"]),class:"space-y-4"},[s("div",null,[e[8]||(e[8]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Mot de passe actuel",-1)),d(s("input",{type:"password","onUpdate:modelValue":e[0]||(e[0]=r=>t.value.current_password=r),class:"w-full md:w-2/3 rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-20"},null,512),[[c,t.value.current_password]])]),s("div",null,[e[9]||(e[9]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nouveau mot de passe",-1)),d(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=r=>t.value.new_password=r),class:"w-full md:w-2/3 rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-20"},null,512),[[c,t.value.new_password]]),e[10]||(e[10]=s("p",{class:"mt-1 text-xs text-gray-500"},"Minimum 8 caractères",-1))]),s("div",null,[e[11]||(e[11]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Confirmation du mot de passe",-1)),d(s("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=r=>t.value.new_password_confirmation=r),class:"w-full md:w-2/3 rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-20"},null,512),[[c,t.value.new_password_confirmation]])]),s("div",h,[s("button",{type:"submit",class:"bg-primary text-white rounded-md px-4 py-2 hover:bg-primary-dark",disabled:i.value},[s("div",T,[i.value?(y(),w("svg",U,e[12]||(e[12]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):k("",!0),e[13]||(e[13]=_(" Mettre à jour le mot de passe "))])],8,S)])],32)])]),s("div",null,[e[19]||(e[19]=s("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Préférences d'interface",-1)),s("div",z,[s("div",B,[s("div",null,[e[15]||(e[15]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Thème",-1)),s("div",P,[s("button",{onClick:e[3]||(e[3]=r=>p("light")),class:f(["px-4 py-2 rounded-md border text-sm",m.value==="light"?"bg-primary text-white border-primary":"bg-white text-gray-700 border-gray-300"])}," Clair ",2),s("button",{onClick:e[4]||(e[4]=r=>p("dark")),class:f(["px-4 py-2 rounded-md border text-sm",m.value==="dark"?"bg-primary text-white border-primary":"bg-white text-gray-700 border-gray-300"])}," Sombre ",2),s("button",{onClick:e[5]||(e[5]=r=>p("system")),class:f(["px-4 py-2 rounded-md border text-sm",m.value==="system"?"bg-primary text-white border-primary":"bg-white text-gray-700 border-gray-300"])}," Système ",2)])]),s("div",null,[e[18]||(e[18]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Notifications",-1)),s("div",$,[s("div",j,[d(s("input",{type:"checkbox",id:"email-notifications","onUpdate:modelValue":e[6]||(e[6]=r=>u.value.emailNotifications=r),class:"rounded text-primary focus:ring-primary"},null,512),[[v,u.value.emailNotifications]]),e[16]||(e[16]=s("label",{for:"email-notifications",class:"ml-2 text-sm text-gray-700"},"Recevoir des notifications par email",-1))]),s("div",q,[d(s("input",{type:"checkbox",id:"browser-notifications","onUpdate:modelValue":e[7]||(e[7]=r=>u.value.browserNotifications=r),class:"rounded text-primary focus:ring-primary"},null,512),[[v,u.value.browserNotifications]]),e[17]||(e[17]=s("label",{for:"browser-notifications",class:"ml-2 text-sm text-gray-700"},"Recevoir des notifications dans le navigateur",-1))])])])])])])])]))}};export{L as default};
